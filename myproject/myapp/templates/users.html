
<!DOCTYPE html>
<html lang="en">
  {% load static %}
  {% load tz %}
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>Add User</title>
    <!-- plugins:css -->
     <script src="{% static 'js/jquery-3.5.1.min.js' %}" type="text/javascript"></script>
     <script src="{% static 'js/sweetalert2.min.js' %}"></script>
       <script src="{% static 'js/sweetfire.js' %}"></script>

    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    

    <!-- plugins:css -->
    <link rel="stylesheet" href="{% static 'assets/vendors/mdi/css/materialdesignicons.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/vendors/css/vendor.bundle.base.css' %}">
    <link href="{% static 'css/dataTable-wrapper.css" rel="stylesheet' %}" />
     <link href="{% static 'js/sweetcss.css" rel="stylesheet' %}" />
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    
    <script src="{% static 'css/simple-datatables.js' %}"></script>
        <script src="{% static 'js/datatables-simple-demo.js' %}"></script>
        
        
    <script src="{% static 'js/jquery.dataTables.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/dataTables.bootstrap.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'css/bootstrap.bundle.min.js' %}"></script>
   
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <!-- End layout styles -->
    <link rel="shortcut icon" href="{% static 'img/icon.ico' %}" />
     
    <script>
     
    $(document).ready(function(){
        
      Read();
      
           $(document).on("click", "#edit", function(){
        
        var id = $(this).data("id");
         var firstname = $(this).data("firstname");
        var lastname = $(this).data("lastname");
        var regnumber = $(this).data("regnumber");
         updation(id, firstname, lastname, regnumber);
          
      });


      
/*
        
        
           $("#form").on('submit',(function(e) {
 e.preventDefault();
  $.ajax({
         url: 'apirequests.php',
   type: "POST",
   data:  new FormData(this),
   contentType: false,
         cache: false,
   processData:false,
   beforeSend : function()
   {
    //$("#preview").fadeOut();
             $('.twoToneButton').html("Adding");
            //twoToneButton.classList.add('spinning'+product_id);
              $('.twoToneButton').addClass("spinning");
    $("#err").fadeOut();
   },
   success: function(data)
      {
    if(data=='invalid')
    {
     // invalid file format.
     $("#err").html("Invalid File !").fadeIn();
    }
    else
    {
     // view uploaded file.
    
     $("#form")[0].reset(); 
     //alert(data);
      swal("success", data, "success", {
                        button: "OK",

                      });
     listStuffs(); 
       $('#tablemanager').modal('hide');  
    }
      },
     error: function(e) 
      {
    $("#err").html(e).fadeIn();
      }          
    });
 }));
        
        
        
       listStuffs(); 
     
  
  
  
 $("#formu").on('submit',(function(e) {
  e.preventDefault();

   var upl = document.querySelector('.uploadthis');
        upl.innerHTML = "<span class='fas fa-upload'></span> Uploading";
            upl.classList.add('spinning'); 
 
    $.ajax({
           url: 'uploadpic.php',
   type: "POST",

            data:new FormData($("#formu")[0]),
     
   contentType: false,
         cache: false,
   processData:false,
   
  

 beforeSend : function()
   {
           $('.uploadthis').html("Uploading");
            //twoToneButton.classList.add('spinning'+product_id);
              $('.uploadthis').addClass("spinning2");
    $("#err").fadeOut();
   },
   success: function(data)
      {
    if(data=='invalid')
    {
     // invalid file format.
     console.log(data);
     
     $("#err").html("Invalid File !").fadeIn();
    }
    else
    {
     // view uploaded file.
       swal("success", data, "success", {
                        button: "OK",

                      });
    
     $("#formu")[0].reset(); 
    listStuffs();
       upl.classList.remove('spinning2');
                    upl.innerHTML = "<span class='fas fa-upload'></span> Upload";
$("#picId").modal('hide');
    }
      },
     error: function(e) 
      {
    $("#err").html(e).fadeIn();
      } 
           
    });   
  

    
    
 })); 
  
  
  
     
       
                      $(document).keydown(function(event) {
if (event.ctrlKey==true && (event.which == '61' || event.which == '107' || event.which == '173' || event.which == '109'  || event.which == '187'  || event.which == '189'  ) ) {
        event.preventDefault();
     }
    // 107 Num Key  +
    // 109 Num Key  -
    // 173 Min Key  hyphen/underscore key
    // 61 Plus key  +/= key
});

$(window).bind('mousewheel DOMMouseScroll', function (event) {
       if (event.ctrlKey == true) {
       event.preventDefault();
       }
});
  
  
  
*/
  
  
  
               
                  $(document).on('click', '#updo', function(){
           $('#hiddenField').hide(); 
          
      });
     
           $('#addNew').on('click', function(){
            $('#tablemanager').modal('show'); 
            
               
           });  
           
           $('#close').on('click', function(){
             $('#tablemanager').modal('hide');  
           });
           
              $('#closeu').on('click', function(){
             $('#updato').modal('hide');  
           });
           
             $('#fadeThis').on('click', function(){
             $('#updatis').modal('hide');  
           });
           
              $('#closeDebit').on('click', function(){
             $('#updates').modal('hide');  
           });
       
             
       
    
    
    
    
    
      $("#save").on('click', function(){
       
       var regnumber =  $("#regnumber");
        var firstname = $("#firstname");             
        var lastname = $("#lastname");
        
  



     if(isNotNulla(regnumber) && isNotNulla(lastname)  && isNotNulla(firstname))
     {
 
  $('.twoToneButton').html("Adding");
            
              $('.twoToneButton').addClass("spinning");
       
    $.ajax({
        url: '/create/',
        data: {
            regnumber: regnumber.val(),
            firstname: firstname.val(),
            lastname: lastname.val(),           
            csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
            
        },
        method: 'POST',
        success: function(data)
{
    
    if(data.code == 200)
    {
   Swal.fire("success", "Added successfully", "success", {
                        button: "OK",

                      }); 
                      regnumber.val("");
                      firstname.val("");
                      lastname.val("");
                      Read();
                       $('.twoToneButton').removeClass("spinning");
          $('.twoToneButton').html("Add");
                 $('#tablemanager').modal('hide'); 
                      
                  }
                  else
                  {
                Swal.fire("error", "Error", "success", {
                        button: "OK",

                      });    
                      console.log(data);
                  }
      $('#tablemanager').modal('hide'); 
        //listStuffs();
     
   // alert(response);
  
 $('.twoToneButton').removeClass("spinning");
          $('.twoToneButton').html("Add");
}
    });
   
   }
 

    
    
    });
    
    
  $("#edito").on('click', function(){
       
       var id = $("#idu");
       var regnumber =  $("#regnumberu");
        var firstname = $("#firstnameu");             
        var lastname = $("#lastnameu");
        
  



     if(isNotNulla(regnumber) && isNotNulla(lastname)  && isNotNulla(firstname))
     {
 
  $('.twoToneButton1').html("Updating");
            
              $('.twoToneButton1').addClass("spinning1");
       
    $.ajax({
        url: '/update/'+id.val(),
        data: {
            id: id.val(),
            regnumber: regnumber.val(),
            firstname: firstname.val(),
            lastname: lastname.val(),           
            csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
            
        },
        method: 'POST',
        success: function(data)
{
    
    if(data.code == 200)
    {
   Swal.fire("success", "Updated successfully", "success", {
                        button: "OK",

                      }); 
                      regnumber.val("");
                      firstname.val("");
                      lastname.val("");
                      Read();
                       $('.twoToneButton1').removeClass("spinning1");
          $('.twoToneButton1').html("Update");
                 $('#updato').modal('hide'); 
                      
                  }
                  else
                  {
                 
                      console.log(data);
                  }
      $('#updato').modal('hide'); 
        //listStuffs();
     
   // alert(response);
  
 $('.twoToneButton').removeClass("spinning");
          $('.twoToneButton').html("Add");
}
    });
   
   }
 

    
    
    });  
    
    });
    
    
         function isNotNulla(caller)
 {
     if(caller.val().trim() == "")
      {
      caller.css("border", "1px solid red");
         //caller.style.border = "1px solid red";
         return false;
     }
     else
     {
          caller.css("border", "");
         //caller.style.border = "";
         return true;
         
     }
 }  
     function delete_confirm(){
if($('.checko:checked').length > 0){
var result = confirm("Are you sure to delete selected properties?");
if(result){
     var id = [];
     $('.checko:checked').each(function(i){
         id[i] = $(this).val();
      console.log("ids", id);
      $.ajax({
    url: 'terminate.php',
    method: "POST",
    datatype: "text",
    data:{
        action: 'deletestuffs',
     check : id
    },
    success: function(response)
    {
        //alert('Users already activated!');
        listStuffs();
      
        $("#hiddenField").hide(300, "linear");
        
    }
  });
      
      
     });
   
return true;
}

  else{
return false;
}
}else{
alert('Select at least 1 user to activate.');
return false;
}
}

 



$(document).ready(function(){
$('#select_all').on('click',function(){
if(this.checked){
$('.checko').each(function(){
this.checked = true;
});
}else{
$('.checko').each(function(){
this.checked = false;
});
}
});
$('.checko').on('click',function(){
if($('.checko:checked').length === $('.checko').length){
$('#select_all').prop('checked',true);
}else{
$('#select_all').prop('checked',false);
}
});
});

function showButton(checked)
{
  if (checked === true)
  {
    $("#hiddenField").show(300, "linear");
    $('.tabula').css({"background-color":"#ccc", "font-weight" : "bold", "color" : "red"});
  }

   else  
  {
   if($('.checkbox:checked').length < 1)
   {
    $("#hiddenField").hide(300, "linear");
    $(".tabula").css({"background-color":"white", "font-weight" : "normal", "color" : "black"});
    }
  }
}     
    
 function showButtono(studentid)
{
     if($('.checkbox'+ studentid+':checked').length < 1)
   {
     
    $("#tbl" + studentid).css({"background-color":"white", "font-weight" : "normal", "color" : "black"});
  
    if($('.checko:checked').length < 1)
     {
         $("#hiddenField").hide(300, "linear"); 
     }
  
    }
   
 
  else
  {

 $("#hiddenField").show(300, "linear");
    $("#tbl" + studentid).css({"background-color":"#ccc", "font-weight" : "bold"});
    $("#tbl" + studentid+ ":hover").css("color", "red");
   
    
  }

  
  
 
}               
    
   
    </script>
    
    <style>
  .menu-title
        {
            text-transform: uppercase;
        }
        
        

.twoToneButton:hover
{
    cursor: pointer;
}
         
.twoToneButton, .twoToneButton1, .uploadthis {
    display: inline-block;
    
    outline:none;
    padding:10px 20px;
    line-height: 1.4;

  

    border: 1px solid black;


    
    position: relative;
    transition: padding-right .3s ease;
    font-weight:700;
 
    
}



.twoToneButton.spinning, .twoToneButton1.spinning1, .uploadthis.spinning2 {
 
    padding-right: 40px;
}
.twoToneButton.spinning:after, .twoToneButton1.spinning1:after, .uploadthis.spinning2:after {
    content: '';
    position: absolute;
    right: 6px;
    top: 40%;
    width: 0;
    height: 0;
    border: 4px solid #f3f3f3;
			border-radius: 50%;
			border-top: 4px solid #444444;
		

    border-radius: 50%;
    animation: rotate360 .5s infinite linear, exist .1s forwards ease;
}

.twoToneButton.spinning:before, .twoToneButton1.spinning1:before, .uploadthis.spinning2:before {
    content: "";
    width: 0px;
    height: 0px;
    border-radius: 50%;
    right: 6px;
    top: 50%;
    position: absolute;
 
    animation: rotate360 .5s infinite linear, exist .1s forwards ease ;
    
}



@keyframes rotate360 { 
    100% {
        transform: rotate(360deg);
    }
}
@keyframes exist { 
    100% {
        width: 15px;
        height: 15px;
        margin: -8px 5px 0 0;
    }
}                
          

.form-control
{
    background-color: #f1f1f1;
}
.table{
    overflow: scroll;
}

 
 .containeras {
  position: relative;
  max-width: 200px;
  margin: 0 auto;
}

.containeras img {vertical-align: middle;}

.containeras .contentas {
  position: absolute;
  bottom: 0;
  background: rgb(0, 0, 0); /* Fallback color */
  background: rgba(0, 0, 0, 0.5); /* Black background with 0.5 opacity */
  color: #f1f1f1;
  width: 100%;
  padding: 1px;
  text-align: center;
  
}    
    </style>
  </head>
  <body>
    <div class="container-scroller">
      <div class="row p-0 m-0 proBanner" id="proBanner">
        <div class="col-md-12 p-0 m-0">
     
        </div>
      </div>
      <!-- partial:partials/_navbar.html -->
      <nav class="navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
        <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-center">
            <a class="navbar-brand brand-logo" href="#"><img style="width: 100%; max-width: 100px; height: 50px" src="{% static 'img/lacaheader.png' %}" alt="logo" /> </a>
          <a class="navbar-brand brand-logo-mini" href="#"><img src="{% static 'img/logo.ico'%}" alt="logo" /></a>
        </div>
        <div class="navbar-menu-wrapper d-flex align-items-stretch">
          <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
            <span class="mdi mdi-menu"></span>
          </button>
       
          <ul class="navbar-nav navbar-nav-right">
                <li class="nav-item d-none d-lg-block full-screen-link">
              <a class="nav-link">
                <i class="mdi mdi-calendar"></i>  {% now "Y-m-d" %}
              </a>
            </li>
            <li class="nav-item nav-profile dropdown">
              <a class="nav-link dropdown-toggle" id="profileDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
                <div class="nav-profile-img">
                  <img src="{% static 'img/user.png'%}" style="max-width: 50px; max-height: 50px" alt="image">
                  <span class="availability-status online"></span>
                </div>
                <div class="nav-profile-text">
                  <p class="mb-1 text-black">{{ user.email }}</p>
                </div>
              </a>
              <div class="dropdown-menu navbar-dropdown" aria-labelledby="profileDropdown">
                <a class="dropdown-item" href="#">
                  <i class="mdi mdi-account-settings me-2 text-success"></i> Account settings </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="{% url 'logout' %}">
                  <i class="mdi mdi-logout me-2 text-primary"></i> Signout </a>
              </div>
            </li>
          
         
          
            <li class="nav-item nav-logout d-none d-lg-block">
              <a class="nav-link" href="{% url 'logout' %}">
                <i class="mdi mdi-power"></i>
              </a>
            </li>
        
          </ul>
             <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
            <span class="mdi mdi-menu"></span>
          </button>
        </div>
      </nav>
      <!-- partial -->
      <div class="container-fluid page-body-wrapper">
        <!-- partial:partials/_sidebar.html -->
       <nav class="sidebar sidebar-offcanvas" id="sidebar">
          <ul class="nav">
            <li class="nav-item nav-profile">
              <a href="#" class="nav-link">
                <div class="nav-profile-image">
                  <img src="{% static 'img/user.png'%}" style="max-width: 50px; max-height: 50px" alt="profile">
                  <span class="login-status online"></span>
                  <!--change to offline or busy as needed-->
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2">{{ user.email }}</span>
                  <span class="text-secondary text-small">Admin</span>
                </div>
                <i class="mdi mdi-bookmark-check text-success nav-profile-badge"></i>
              </a>
            </li>
        <li class="nav-item">
              <a class="nav-link" href="{% url 'index' %}">
                <span class="menu-title">Visualization</span>
                <i class="mdi mdi-chart-bar menu-icon"></i>
              </a>
            </li>
            
          
      
           <li class="nav-item">
              <a class="nav-link" href="{% url 'chatbot' %}">
                <span class="menu-title">AI ChatBot</span>
                <i class="mdi mdi-robot menu-icon"></i>
              </a>
            </li>
        
            <li class="nav-item">
              <a class="nav-link" href="{% url 'users' %}">
                <span class="menu-title">Users</span>
                <i class="mdi mdi-account-box-outline menu-icon"></i>
              </a>
            </li>
            
                  <li class="nav-item">
              <a class="nav-link" href="">
                <span class="menu-title">Log out</span>
                <i class="mdi mdi-power menu-icon"></i>
              </a>
            </li> 
        
         
            
                
         
              
           
              
            
          </ul>
        </nav>
        <!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <div class="page-header">
              <h3 class="page-title">
                <span class="page-title-icon bg-gradient-primary text-white me-2">
                  <i class="mdi mdi-food"></i>
                </span> Users list
              </h3>
              <nav aria-label="breadcrumb">
                <ul class="breadcrumb">
                  <li class="breadcrumb-item active" aria-current="page">     
                    <button style="float:right; margin-bottom: 9px; border-radius: 10px;" name="add" id="addNew" class="btn btn-info">   <i class="mdi mdi-plus-circle"></i> Add new </button>
                  </li>
                </ul>
              </nav>
            </div>
         
                  <div class="col-lg-12 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    
                   
                      
                      
                      
                            <div id="hiddenField" style="display:none; text-align: center; width: 100%; background-color: #f1f1f1 ">
     
       <button name="bulk_delete_submit" class="btn btn-danger" onClick="return delete_confirm()"><span class="mdi mdi-delete-forever"></span> Hide item</button>
      
  </div>    
              
                 


       <div id="resulto">         
                  
                      </div>
                </div>
             
      <script> 
             function uploadPic(id)
{
    $("#picId").modal('show');
    $("#myid").val(id);
}
function listStuffs() {
           $.ajax({
                url: 'apirequests.php',
                method: 'POST',
                dataType: 'text',
                data: {
                    action: 'selectpro',
                    usertype: ''
                   
                }, success: function (response) {
                    $('tbody').html(response);
                    if ( $.fn.dataTable.isDataTable( '#example' ) ) {
    table = $('#example').DataTable();
}
else {
    table = $('#example').DataTable( {
        paging: true
    } );
} 
    
                      
                }
            });
        }
        
 function Read(){
    $.ajax({
        url: '/read/',
        type: 'POST',
        async: false,
        data:{
            res: 1,
            csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
        },
        success: function(response){
            $('#resulto').html(response);
        }
    });
}
 
      function full(stud_id)
   {
      $("#updatis").modal("show");
           var tok = 'wee';
      var link = 'seleupdate.php';
      var idas = "key";
       $.post(link, 'id=' +stud_id + "&idas=" +idas, "token="+tok,
                function (data) {
               var data = JSON.parse(data);
             
                  for (var i = 0; (i < data.length); i++)
                    {
                        var id = data[i]['id'];
                        var name = data[i]['firstname'];
                        var lname = data[i]['lastname'];
                        var quantity = data[i]['email'];
                        
                        var image = data[i]['user_profile'];
                        
                          var addressi = data[i]['location'];
                          var tel = data[i]['telnumber'];
                          var estimation = data[i]['user_type'];
                       
                       
                    }
        $("#idisi").val("ID: "+id);
        $("#nameis").val(name+" "+lname);           
        $("#uza").html(name);
      $("#priceis").val(quantity);
      $("#quantityis").val(quantity);
      $("#estimationu").val("User role: "+estimation);
      $("#phoneu").val(tel);
      $("#addressu").val(addressi);
     $("#thumbis").html("<img class='img-thumbnail' src='"+image+"' style='width:100px; height:100px; margin-bottom: 10px'>");
      
   
       });
      
     
       $('#closo').on('click', function(){
             $('#updato').modal('hide');  
           });
           


        
   }
 
 

      function updation(stud_id, fname, lname, regnumber)
   {
      $("#updato").modal("show");
    $("#idu").val(stud_id);   
        $("#firstnameu").val(fname);             
      $("#lastnameu").val(lname);
      $("#regnumberu").val(regnumber);
    
     
   
      
 
     
       $('#closo').on('click', function(){
             $('#updato').modal('hide');  
           });
           


        
   }
   
   
       function isNotNull(caller)
     {
         if(caller.val() === '')
         {
            //caller.style.border = "1px solid red";
           caller.css('border', '1px solid red');
            return false;
         }
         else
         {
                 caller.css('border', '');
           return true;
         }
       
     }

   
   
 function updating (updatos)
 {
     var id = $("#idu").val();             
           
     var priceu =  $("#creditamount");
     var estimation = $("#clientestime").val();
      var descricredit = $("#descricredit").val();
    
    
    if(isNotNull(priceu))
    {
          $.ajax({
            url: 'seleupdate.php',
            method: 'POST',
            datatype: 'text',
            data: {
             id : id,
           
             amount : priceu.val(),
               
             key : updatos,
             estimation: estimation,
             descricredit: descricredit
            },
            success: function(response){
                alert('Credit already added!');
                $("#creditamount").val("");
                  listStuffs();
              
                   $('#updato').modal('hide');   
            }
    });

        
    }
  
    
  
 }




 



   
function closeModal(id)
          {
             $('#'+id).modal('hide');  
          }


    function printmenu()
        {
                 
           //alert($("#totdebt").html());
            window.open('printmenu.php', "_blank", "width=1024, height=800");
        }
   
   
   
    
</script>
           
                       
                      
                      
              </div>
           
                  </div>
              
              <center><a  class="btn btn-danger" style="text-align: center;" onclick='return printmenu()'>  <i class="fas fa-print"></i> Print preview  </a>       </center>    
              
          </div>
            
            <div id="picId" class="modal fade">
        <form id="formu" action="uploadpic.php" method="post" enctype="multipart/form-data">              
             
            <div class="modal-dialog">
                 <div class="modal-content">
                     <div class="modal-header"> 
                         <h4  class="modal-tile" id="profilestatu">Change picture</h4>  <span class="mdi mdi-close-circle" onclick="return closeModal('picId')"  id="closeBuyer" style="float: right; margin-top: -28px; cursor:pointer; "></span>
                     </div>
                    
                 
                         <div class="modal-body"> 
                            
                              <input id="uploadImageu" type="file" accept="image/*" name="imageu" class="form-control">
                              <input type="hidden" id="myid" name="myid" value="">
                              
                              
                            
                         </div>
                         
                      
                             <div class="modal-footer">
                                  
                                 <button id="uploadthis" name="uploadthis" class="btn btn-default uploadthis"> <span class="fas fa-upload"></span> Upload</button><a href="#"  onclick="return closeModal('picId')" class="btn btn-default"> <span class="fas fa-times"></span> Close</a>
                                  <div id="err"></div>
                             </div>  
                  

                 </div>
                 
             </div>  </form>
             
         </div>
            
            
            
            
                                 <div id="tablemanager" class="modal fade">
             <div class="modal-dialog">
                 <div class="modal-content">
                     <div class="modal-header"> 
                         <h5 class="modal-tile"><span class="mdi mdi-plus"></span> Add new user</h5>  <span id="close" class="mdi mdi-close-circle" style="cursor:pointer; margin-top: -10px"></span>
                     </div>
                     
                      
                         <div class="modal-body"> 
                             <div class="row"> 
                                 
                                 <div class="col-md-6"> 
                                    
                                     
                                   {% csrf_token %}  
                                            <div class="form-group">
                    <label for="name">First name</label>
                    <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">

                     <span class="mdi mdi-food"></span>
                    </span>
                    </div>

                        <input type="text" class="form-control" id="firstname" name="firstname"  placeholder="Enter the student's name" required />
                    
                  
                    
                    </div>   </div> 
                             
                        
                             <div class="form-group">
                                   <label for="name">Phone number</label>
                    <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">

                     <span class="mdi mdi-food"></span>
                    </span>
                    </div>

                        <input type="number" class="form-control" id="regnumber" name="regnumber" placeholder="Enter the Phone Number" required />
                    </div>   </div>        
                             
                             
                        
                             
                             
                             
                          
                  
                  
             
                   
                    
                                     <div class="form-group" style="display: none">
                        <label for="email">password</label>
                    <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">

                     <span class="mdi mdi-file-image"></span>
                    </span>
                    </div>

                        <input id="uploadImag" class="form-control" type="password"  name="image1"  placeholder="*****"/>
                    </div>   </div> 
                                     
                      
                                 
                                     
                                     
                                     
                                      </div>
                                 
                                 
                                 
                                 
                                  <div class="col-md-6"> 
                                  
                                      
                                      
                                         
                    
                           <div class="form-group">
                    <label for="name">Last name</label>
                    <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">

                     <span class="mdi mdi-food"></span>
                    </span>
                    </div>

                        <input type="text" class="form-control" id="lastname" name="lastname" placeholder="Enter the student's lasname" required />
                    </div>   </div> 
                    
                             
                      <div class="form-group">
                        <label for="email">To be used</label>
                    <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">

                     <span class="mdi mdi-file-image"></span>
                    </span>
                    </div>

                    <input id="uploadImage" class="form-control" type="file" accept="image/*" name="image" />
                    </div>   </div> 
                             
                             
                             
                  
                             
                      
                        
                                   
                             
                    <div id="err"></div>
                                      
                                      
                                      </div>
                                 
                                 </div> 
                            
                             
               
                    
                    
                 
                         </div>
                             <div class="modal-footer">
                                 <button id="save" name="save" class="btn btn-info twoToneButton"> <span class="mdi mdi-plus"></span> Add</button>
                                 
                             </div>
                      
                             
                     <script>  
    


      
     
      function deleteSingle1(id)
{   
   $.ajax({
        url: '/deletee/'+id,
        data: {
            id: id,           
            csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
            
        },
        method: 'POST',
        success: function(data)
{
    
    if(data.code == 200)
    {
   Swal.fire("success", "Deleted successfully", "success", {
                        button: "OK",

                      }); 
                     
                      Read();
                                            
                  }
                  else
                  {
                 
                      console.log(data);
                  }
 
}
    });
        }
        
    function deleteSingle(id)
   {
        
 Swal.fire({
  title: "Student #"+id+" will be deleted",   
    text: "Are you sure to delete?",  
 
  showCancelButton: true,
  confirmButtonText: 'Remove',
  confirmButtonColor: '#8b0000',
 
}).then((result) => {
  /* Read more about isConfirmed, isDenied below */
  if (result.isConfirmed) {
    //Swal.fire('Saved!', '', 'success')
     deleteSingle1(id);
  } else {
    Swal.fire('Not removed', '', 'info')
  }
})
   }     
        
        
                     </script>
                         
                    
                     
                 </div>
                 
             </div>
             
         </div>
            
    

    
    
                                     <div id="updato" class="modal fade">
                    <div class="modal-dialog">
                 <div class="modal-content">
                     <div class="modal-header"> 
                         <h5 class="modal-tile"><span class="mdi mdi-grease-pencil"></span> Edit user</h5>  <span id="closeu" class="mdi mdi-close-circle" style="cursor:pointer; margin-top: -10px"></span>
                     </div>
                 
                         <div class="modal-body"> 
                                  <div class="form-group">
                    <label for="name">First name</label>
                    <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">

                     <span class="mdi mdi-food"></span>
                    </span>
                    </div>

                    <input type="text" class="form-control" id="firstnameu" name="firstnameu" placeholder="Enter the student's name" required />
                    <input type="hidden" class="form-control" id="idu" name="idu" />
                 
                  
                    
                    </div>   </div> 
                             
                        
                    <div class="form-group">
                    <label for="name">Last name</label>
                    <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">

                     <span class="mdi mdi-scale"></span>
                    </span>
                    </div>

                    <input type="text" class="form-control" id="lastnameu" name="lastnameu" placeholder="Enter the student's name" required />
                    </div>   </div>
                             
                      
                 <div class="form-group">
                    <label for="email">Phone number</label>
                    <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">

                     <span class="mdi mdi-cash-usd"></span>
                    </span>
                    </div>

                    <input type="number" class="form-control" id="regnumberu" name="regnumberu" placeholder="phone number" required />
                    </div>   </div>            
                             
                             
                                   
                             
                         </div>
                             <div class="modal-footer">
                                <button id="edito" name="updato" class="btn btn-primary twoToneButton1"> <span class="fas fa-edit"></span> Update</button>
                                 
                             </div>
                 
                         
                    
                     
                 </div>
                 
             </div>
             
         </div>
           
            
            
          <!-- content-wrapper ends -->
          <!-- partial:partials/_footer.html -->
        <footer class="footer">
            <div class="container-fluid d-flex justify-content-between">
                <span class="text-muted d-block text-center text-sm-start d-sm-inline-block">Copyright &copy;  2025</span> Designed and Developed by Mugabo
             
            </div>
          </footer> 
          <!-- partial -->
        </div>
        <!-- main-panel ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
  <script src="assets/vendors/chart.js/Chart.min.js' %}"></script>
    
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="{% static 'assets/js/off-canvas.js' %}"></script>
    <script src="{% static 'assets/js/hoverable-collapse.js' %}"></script>
    <script src="{% static 'assets/js/misc.js' %}"></script>
    <!-- endinject -->
    <!-- Custom js for this page -->
    <script src="{% static 'assets/js/dashboard.js' %}"></script>
    <script src="{% static 'assets/js/todolist.js' %}"></script>
    <!-- End custom js for this page -->
  </body>
</html>